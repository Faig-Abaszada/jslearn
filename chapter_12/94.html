<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>chapter_12 || Async JavaScript</title>
</head>
<body>

<script>
    // const getTodos = ( resource , callback) => {
    //     const request = new XMLHttpRequest();
    //
    //     request.addEventListener('readystatechange', () =>{
    //         if (request.readyState === 4 && request.status === 200){
    //             const data = JSON.parse(request.responseText);
    //             callback(undefined, data);
    //         }
    //         else if (request.readyState === 4) {
    //             callback('could not fetch data', undefined);
    //         }
    //     });
    //     request.open('GET', resource);
    //     request.send();
    // }
    // getTodos( 'todos/faik.json' ,(err, data) => {
    //     console.log('1st callback Fired')
    //     console.log(data);
    //     getTodos( 'todos/hasan.json' ,(err, data) => {
    //         console.log('2nd callback Fired')
    //         console.log(data);
    //         getTodos( 'todos/ali.json' ,(err, data) => {
    //             console.log('3rd callback Fired')
    //             console.log(data);
    //         });
    //     });
    // });


    // promise example
    /*
     - new Promise() -in 2 neticesi var
            - biri resolve yani success
            - biri reject yani error
     - icinde parameter olaraq arrow function alir
     - ve bu funskiya icinde network request edirik
     - bu funksiya 2 paramater alir resolve ve reject
        - bunlar javascriptde PRomise API icinde gomulubler .

     - tesevvur edekki bu funskiya cagrildi
        - new promise return oldu
        - fetch olunanda succesic resolva verdik
        - fetch olunanda erroru rejecte verdik
        -
    */
    const getSomething = () => {
        return new Promise((resolve, reject) => {
            // network request here
            // fetch something
            /*
             - resolve ve reject daha sonra callback kimi
             network requesst funksiya icinde cagrilacaq
             -
            */
            resolve('some data');
            reject('have error');
        });
    }













</script>
</body>
</html>
